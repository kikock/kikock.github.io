<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Nativefier 打包网页 | 不抽烟的🐇</title><meta name="keywords" content="java"><meta name="author" content="kikock"><meta name="copyright" content="kikock"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Nativefier 打包网页"><meta name="application-name" content="Nativefier 打包网页"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Nativefier 打包网页"><meta property="og:url" content="https://home.34462958.xyz/2025/04/22/liunx/Nativefier%20%E6%89%93%E5%8C%85%E7%BD%91%E9%A1%B5/index.html"><meta property="og:site_name" content="不抽烟的🐇"><meta property="og:description" content="Nativefier 打包网页一、环境配置1. 安装 NVM for Windows 管理 nodejs使用nvm 管理node  仓库地址    下载win版直接安装 NVM for Windows 常用命令说明    命令 说明 示例    &amp;#96;nvm arch [32 64]&amp;#96;"><meta property="og:locale" content="zh-TW"><meta property="og:image" content="https://api.btstu.cn/sjbz/?lx=dongman&amp;_r_=4ec066b7-d76b-a7f4-b3cf-21bb35efcc7f"><meta property="article:author" content="kikock"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://api.btstu.cn/sjbz/?lx=dongman&amp;_r_=4ec066b7-d76b-a7f4-b3cf-21bb35efcc7f"><meta name="description" content="Nativefier 打包网页一、环境配置1. 安装 NVM for Windows 管理 nodejs使用nvm 管理node  仓库地址    下载win版直接安装 NVM for Windows 常用命令说明    命令 说明 示例    &amp;#96;nvm arch [32 64]&amp;#96;"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://home.34462958.xyz/2025/04/22/liunx/Nativefier%20%E6%89%93%E5%8C%85%E7%BD%91%E9%A1%B5/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🏠 智能家居小能手","🔨 设计开发一条虫","🏃 脚踏实地行动派","💢 人菜游戏瘾还大"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切換為繁體","cht_to_chs":"你已切換為簡體","day_to_night":"你已切換為深色模式","night_to_day":"你已切換為淺色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '不抽烟的🐇',
  title: 'Nativefier 打包网页',
  postAI: '',
  pageFillDescription: 'Nativefier 打包网页, 一、环境配置, 1. 安装 NVM for Windows 管理 nodejs, 2. 安装nodejs, 3. 全局安装 Nativefier, 4. 跨平台依赖, 二、基础打包命令, 示例：将百度首页打包为桌面应用, 三、完整参数列表及注释, 1. Nativefier 基础参数, 2. Nativefier 窗口与界面控制参数, 3. Nativefier 功能增强参数, 4. Nativefier 高级参数, 四、Nativefier 跨平台注意事项, 图标格式, 输出文件类型, Docker 支持（跨平台构建）, 五、其他, 修改图标, 持久化配置, 打包为安装程序, LIUNX 打包脚本打包网页一环境配置安装管理使用管理仓库地址下载版直接安装常用命令说明命令说明示例显示当前进程的架构位或位可指定或覆盖默认架构检查进程是否存在已知问题显示当前激活的版本安装指定版本的可以是版本号或可选指定或同时安装绕过列出已安装的版本显示可供下载的版本启用版本管理禁用版本管理不卸载任何设置下载代理为空查看当前代理为移除代理卸载指定版本的切换到指定版本可以是版本号或可选指定或切换架构设置存储版本的根目录为空显示当前根目录显示当前的版本设置镜像地址设置镜像地址安装安装版本全局安装全局安装跨平台依赖需安装用于生成应用非必须仅跨平台打包需要安装支持应用构建安装命令安装图标处理工具可选安装命令二基础打包命令示例将百度首页打包为桌面应用生成以文件名命名的文件夹窗口尺寸隐藏菜单栏指定输出目录默认在当前目录生成可通过目录指定生成百度的桌面应用输出地址为三完整参数列表及注释基础参数参数注释示例名称应用名称避免空格知乎系统目标系统架构架构路径图标文件需需版本应用版本号仅支持数字或点分格式版权显示在文件属性中的版权信息知乎公司目录指定输出目录默认生成在当前位置窗口与界面控制参数参数注释示例数值初始窗口宽度默认数值初始窗口高度默认数值窗口最小宽度限制默认数值窗口最小高度限制默认数值窗口最大宽度限制默认无限制数值窗口最大高度限制默认无限制数值窗口初始坐标屏幕左边缘偏移量数值窗口初始坐标屏幕顶部偏移量启动时最大化窗口启动时全屏显示颜色码窗口加载前的背景色十六进制禁用右键菜单显示顶部菜单栏默认隐藏功能增强参数参数注释示例关闭窗口时缩至系统托盘窗口始终置顶禁止保留缓存数据禁用开发者工具禁止启动多个实例已运行则聚焦现有窗口自定义模拟浏览器文件注入自定义脚本或样式如去广告规则设置代理服务器高级参数参数注释示例版本指定内核版本启用视频播放支持需自行承担风险文件定义全局快捷键需配置文件版本号设置构建版本号映射到文件元数据名称自定义可执行文件元数据知乎禁用伪装显示真实忽略证书错误适用于自签名证书禁用硬件加速解决渲染问题强制启用绕过黑名单四跨平台注意事项图标格式建议像素建议像素支持或自动转换输出文件类型生成文件及资源文件夹生成应用包需右键打开绕过安全限制生成文件需赋予执行权限支持跨平台构建通过跨平台打包需挂载本地目录五其他修改图标进入生成目录的文件夹直接替换或文件持久化配置编辑生成目录下的文件可以修改窗口尺寸等参数打包为安装程序可以使用工具生成安装包操作简单开源内核使用基于方式的安装包制作可以使用工具进行封装打包脚本定义变量设置版本设置应用程序名称用于存储之前的应用程序名称设置平台设置应用程序版本设置应用程序版权信息输出目录设置为当前目录设置打包文件夹默认为架构默认为支持修改以匹配实际的文件夹名称设置应用程序安装目录设置图标路径默认为当前目录下的可以通过脚本参数传入确保输出目录存在创建打包文件夹函数显示主菜单打包脚本开始使用打包应用程序设置应用程序名称设置应用程序版本设置目标设置应用程序图标设置内核架构生成软件包清理临时文件一键打包退出脚本请选择要执行的操作函数打包应用程序使用用户设置的删除旧的应用程序目录和图标目录如果存在删除旧的应用程序目录删除旧的图标目录检查是否打包成功打包失败请检查错误信息获取应用程序文件夹的完整路径修改以匹配实际的执行文件路径假设可执行文件与应用程序名称相同将生成应用放入目录复制图标到应用程序目录并转换为和格式获取不带后缀的文件名获取文件后缀创建必要的目录复制原始图标到目标目录转换为如果支持转换为设置应用程序文件夹及其子内容的权限为所有用户可读可执行所有者可写将用户组设置为检查应用程序执行文件是否存在错误应用程序执行文件不存在请检查路径是否正确应用程序打包完成函数生成软件包使用用户设置的创建目录结构创建图标目录核心架构默认设置为创建控制文件创建脚本可选用于安装前操作正在安装在此处添加安装前要执行的命令例如检查依赖创建用户等创建脚本可选用于安装后操作安装完成复制图标到系统图标目录确保复制的图标目录和文件有正确的权限一款为定制的桌面应用创建脚本可选用于卸载前操作正在卸载在此处添加卸载前要执行的命令例如停止服务删除配置文件等卸载应用程序创建脚本可选用于卸载后操作卸载完成删除桌面快捷方式打包成文件文件打包完成函数清理临时文件删除打包的文件夹删除生成的应用程序文件夹临时文件清理完成函数一键打包一键打包完成主程序逻辑请输入应用程序名称设置应用程序名称原始应用程序名称记录原始名称更新为新的名称更新应用名称相关的变量请输入应用程序版本请输入目标请输入应用程序图标路径请选择内核架构请选择无效的选择使用默认架构退出脚本无效的选择请重试',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-04-22 14:38:00',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像2" src="/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">不抽烟的🐇</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新評論</span></div><div class="aside-list"><span>正在載入中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI-Agent/" style="font-size: 1.05rem;">AI Agent<sup>2</sup></a><a href="/tags/Antigravity/" style="font-size: 1.05rem;">Antigravity<sup>2</sup></a><a href="/tags/Cloudflare/" style="font-size: 1.05rem;">Cloudflare<sup>2</sup></a><a href="/tags/Content-Creation/" style="font-size: 1.05rem;">Content Creation<sup>1</sup></a><a href="/tags/Full-Stack/" style="font-size: 1.05rem;">Full Stack<sup>1</sup></a><a href="/tags/GFW/" style="font-size: 1.05rem;">GFW<sup>1</sup></a><a href="/tags/GitHub/" style="font-size: 1.05rem;">GitHub<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>8</sup></a><a href="/tags/MC/" style="font-size: 1.05rem;">MC<sup>1</sup></a><a href="/tags/Tutorial/" style="font-size: 1.05rem;">Tutorial<sup>1</sup></a><a href="/tags/docker/" style="font-size: 1.05rem;">docker<sup>4</sup></a><a href="/tags/git/" style="font-size: 1.05rem;">git<sup>1</sup></a><a href="/tags/java/" style="font-size: 1.05rem;">java<sup>11</sup></a><a href="/tags/mysql/" style="font-size: 1.05rem;">mysql<sup>1</sup></a><a href="/tags/nginx/" style="font-size: 1.05rem;">nginx<sup>1</sup></a><a href="/tags/openwrt/" style="font-size: 1.05rem;">openwrt<sup>1</sup></a><a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 1.05rem;">其他<sup>1</sup></a><a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" style="font-size: 1.05rem;">科学上网<sup>1</sup></a><a href="/tags/%E7%BA%B8%E9%A3%9E%E6%9C%BA/" style="font-size: 1.05rem;">纸飞机<sup>1</sup></a><a href="/tags/%E7%BE%A4%E6%99%96/" style="font-size: 1.05rem;">群晖<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">设计模式<sup>5</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>歸檔</span><a class="card-more-btn" href="/archives/" title="檢視更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2026/01/"><span class="card-archive-list-date">一月 2026</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">十二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">十月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url">其他</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/java/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>java</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Nativefier 打包网页</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-04-22T14:38:00.000Z" title="發表於 2025-04-22 14:38:00">2025-04-22</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-04-22T14:38:00.000Z" title="更新於 2025-04-22 14:38:00">2025-04-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字數總計:</span><span class="word-count" title="文章字数">3.6k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">閱讀時長:</span><span>15分鐘</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="Nativefier 打包网页"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">閱讀量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为绵阳"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>绵阳</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://api.btstu.cn/sjbz/?lx=dongman&amp;_r_=4ec066b7-d76b-a7f4-b3cf-21bb35efcc7f"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://home.34462958.xyz/2025/04/22/liunx/Nativefier%20%E6%89%93%E5%8C%85%E7%BD%91%E9%A1%B5/"><header><a class="post-meta-categories" href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url">其他</a><a href="/tags/java/" tabindex="-1" itemprop="url">java</a><h1 id="CrawlerTitle" itemprop="name headline">Nativefier 打包网页</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">kikock</span><time itemprop="dateCreated datePublished" datetime="2025-04-22T14:38:00.000Z" title="發表於 2025-04-22 14:38:00">2025-04-22</time><time itemprop="dateCreated datePublished" datetime="2025-04-22T14:38:00.000Z" title="更新於 2025-04-22 14:38:00">2025-04-22</time></header><h1 id="Nativefier-打包网页"><a href="#Nativefier-打包网页" class="headerlink" title="Nativefier 打包网页"></a>Nativefier 打包网页</h1><h2 id="一、环境配置"><a href="#一、环境配置" class="headerlink" title="一、环境配置"></a>一、环境配置</h2><h3 id="1-安装-NVM-for-Windows-管理-nodejs"><a href="#1-安装-NVM-for-Windows-管理-nodejs" class="headerlink" title="1. 安装 NVM for Windows 管理 nodejs"></a>1. 安装 NVM for Windows 管理 nodejs</h3><pre><code>使用nvm 管理node
</code></pre>
<p><a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows">仓库地址</a><br>    下载win版直接安装<br> NVM for Windows 常用命令说明</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>&#96;nvm arch [32</td>
<td>64]&#96;</td>
<td>显示当前 Node.js 进程的架构 (32 位或 64 位)。可指定 <code>32</code> 或 <code>64</code> 覆盖默认架构。</td>
</tr>
<tr>
<td><code>nvm debug</code></td>
<td>检查 NVM for Windows 进程是否存在已知问题。</td>
<td><code>nvm debug</code></td>
</tr>
<tr>
<td><code>nvm current</code></td>
<td>显示当前激活的 Node.js 版本。</td>
<td><code>nvm current</code></td>
</tr>
<tr>
<td><code>nvm install &lt;version&gt; [arch]</code></td>
<td>安装指定版本的 Node.js。<code>&lt;version&gt;</code> 可以是版本号、<code>latest</code> 或 <code>lts</code>。<code>[arch]</code> 可选，指定 <code>32</code> 或 <code>64</code>，<code>all</code> 同时安装。<code>--insecure</code> 绕过 SSL。</td>
<td><code>nvm install 18.0.0</code>, <code>nvm install latest</code>, <code>nvm install lts 64</code>, <code>nvm install 16 all --insecure</code></td>
</tr>
<tr>
<td><code>nvm list [available]</code></td>
<td>列出已安装的 Node.js 版本。<code>available</code> 显示可供下载的版本。</td>
<td><code>nvm list</code>, <code>nvm list available</code></td>
</tr>
<tr>
<td><code>nvm on</code></td>
<td>启用 Node.js 版本管理。</td>
<td><code>nvm on</code></td>
</tr>
<tr>
<td><code>nvm off</code></td>
<td>禁用 Node.js 版本管理 (不卸载任何 Node.js)。</td>
<td><code>nvm off</code></td>
</tr>
<tr>
<td><code>nvm proxy [url]</code></td>
<td>设置下载代理。<code>[url]</code> 为空查看当前代理，为 <code>none</code> 移除代理。</td>
<td><code>nvm proxy</code>, <code>nvm proxy http://localhost:8080</code>, <code>nvm proxy none</code></td>
</tr>
<tr>
<td><code>nvm uninstall &lt;version&gt;</code></td>
<td>卸载指定版本的 Node.js。</td>
<td><code>nvm uninstall 14.0.0</code></td>
</tr>
<tr>
<td><code>nvm use &lt;version&gt; [arch]</code></td>
<td>切换到指定 Node.js 版本。<code>&lt;version&gt;</code> 可以是版本号、<code>latest</code>、<code>lts</code> 或 <code>newest</code>。<code>[arch]</code> 可选，指定 <code>32</code> 或 <code>64</code>。<code>nvm use &lt;arch&gt;</code> 切换架构。</td>
<td><code>nvm use 20.0.0</code>, <code>nvm use latest 32</code>, <code>nvm use lts</code>, <code>nvm use newest</code>, <code>nvm use 64</code></td>
</tr>
<tr>
<td><code>nvm root &lt;path&gt;</code></td>
<td>设置 NVM 存储 Node.js 版本的根目录。<code>&lt;path&gt;</code> 为空显示当前根目录。</td>
<td><code>nvm root</code>, <code>nvm root C:\nvm</code></td>
</tr>
<tr>
<td><code>nvm version</code></td>
<td>显示当前 NVM for Windows 的版本。</td>
<td><code>nvm version</code></td>
</tr>
<tr>
<td><code>nvm node_mirror &lt;url&gt;</code></td>
<td>设置 Node.js 镜像地址。</td>
<td><code>nvm node_mirror https://npmmirror.com/mirrors/node/</code></td>
</tr>
<tr>
<td><code>nvm npm_mirror &lt;url&gt;</code></td>
<td>设置 npm 镜像地址。</td>
<td><code>nvm npm_mirror https://npmmirror.com/mirrors/npm/</code></td>
</tr>
</tbody></table>
<h3 id="2-安装nodejs"><a href="#2-安装nodejs" class="headerlink" title="2. 安装nodejs"></a>2. 安装nodejs</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 安装nodejs  18.20.8版本</span><br><span class="line">nvm install 18.20.8  </span><br><span class="line"># 全局安装 yarn </span><br><span class="line">npm install -g yarn</span><br></pre></td></tr></table></figure>

<h3 id="3-全局安装-Nativefier"><a href="#3-全局安装-Nativefier" class="headerlink" title="3. 全局安装 Nativefier"></a>3. 全局安装 Nativefier</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install -g nativefier</span><br></pre></td></tr></table></figure>


<h3 id="4-跨平台依赖"><a href="#4-跨平台依赖" class="headerlink" title="4. 跨平台依赖"></a>4. 跨平台依赖</h3><p> Windows: 需安装Wine用于生成Linux&#x2F;Mac应用（非必须，仅跨平台打包需要）</p>
<p> Linux：安装 Wine 支持 Windows 应用构建</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 安装命令</span></span><br><span class="line">sudo apt-get install wine</span><br></pre></td></tr></table></figure>

<p>macOS：安装图标处理工具（可选）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 安装命令</span></span><br><span class="line">brew install imagemagick</span><br></pre></td></tr></table></figure>


<h2 id="二、基础打包命令"><a href="#二、基础打包命令" class="headerlink" title="二、基础打包命令"></a>二、基础打包命令</h2><h1 id="示例：将百度首页打包为桌面应用"><a href="#示例：将百度首页打包为桌面应用" class="headerlink" title="示例：将百度首页打包为桌面应用"></a>示例：将百度首页打包为桌面应用</h1><ul>
<li>生成以文件名命名的文件夹(<code>baidu-win32-x64</code>)</li>
<li>窗口尺寸 1280x800px，隐藏菜单栏</li>
<li><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nativefier &quot;https://www.baidu.com&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>指定输出目录：默认在当前目录生成，可通过 –out &lt;目录&gt; 指定</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">生成百度的桌面应用 输出地址为 D:\output</span></span><br><span class="line">nativefier --out &quot;C:\output&quot; &quot;https://www.baidu.com&quot;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="三、完整参数列表及注释"><a href="#三、完整参数列表及注释" class="headerlink" title="三、完整参数列表及注释"></a>三、完整参数列表及注释</h2><h3 id="1-Nativefier-基础参数"><a href="#1-Nativefier-基础参数" class="headerlink" title="1. Nativefier 基础参数"></a>1. Nativefier 基础参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>注释</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>--name &lt;名称&gt;</code></td>
<td>应用名称（避免空格）</td>
<td><code>--name &quot;知乎&quot;</code></td>
</tr>
<tr>
<td><code>--platform &lt;系统&gt;</code></td>
<td>目标系统：windows&#x2F;linux&#x2F;osx</td>
<td><code>--platform linux</code></td>
</tr>
<tr>
<td><code>--arch &lt;架构&gt;</code></td>
<td>CPU 架构：x64&#x2F;ia32&#x2F;arm64</td>
<td><code>--arch arm64</code></td>
</tr>
<tr>
<td><code>--icon &lt;路径&gt;</code></td>
<td>图标文件（Windows 需 .ico，macOS 需 .icns）</td>
<td><code>--icon &quot;D:\app.ico&quot;</code></td>
</tr>
<tr>
<td><code>--app-version &lt;版本&gt;</code></td>
<td>应用版本号（仅支持数字或点分格式）</td>
<td><code>--app-version 2.0</code></td>
</tr>
<tr>
<td><code>--app-copyright &lt;版权&gt;</code></td>
<td>显示在文件属性中的版权信息</td>
<td><code>--app-copyright &quot;知乎公司&quot;</code></td>
</tr>
<tr>
<td><code>--out &lt;目录&gt;</code></td>
<td>指定输出目录（默认生成在当前位置）</td>
<td><code>--out &quot;D:\output&quot;</code></td>
</tr>
</tbody></table>
<h3 id="2-Nativefier-窗口与界面控制参数"><a href="#2-Nativefier-窗口与界面控制参数" class="headerlink" title="2. Nativefier 窗口与界面控制参数"></a>2. Nativefier 窗口与界面控制参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>注释</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>--width &lt;数值&gt;</code></td>
<td>初始窗口宽度（默认 1280）</td>
<td><code>--width 1440</code></td>
</tr>
<tr>
<td><code>--height &lt;数值&gt;</code></td>
<td>初始窗口高度（默认 800）</td>
<td><code>--height 900</code></td>
</tr>
<tr>
<td><code>--min-width &lt;数值&gt;</code></td>
<td>窗口最小宽度限制（默认 0）</td>
<td><code>--min-width 800</code></td>
</tr>
<tr>
<td><code>--min-height &lt;数值&gt;</code></td>
<td>窗口最小高度限制（默认 0）</td>
<td><code>--min-height 600</code></td>
</tr>
<tr>
<td><code>--max-width &lt;数值&gt;</code></td>
<td>窗口最大宽度限制（默认无限制）</td>
<td><code>--max-width 1920</code></td>
</tr>
<tr>
<td><code>--max-height &lt;数值&gt;</code></td>
<td>窗口最大高度限制（默认无限制）</td>
<td><code>--max-height 1080</code></td>
</tr>
<tr>
<td><code>--x &lt;数值&gt;</code></td>
<td>窗口初始 X 坐标（屏幕左边缘偏移量）</td>
<td><code>--x 100</code></td>
</tr>
<tr>
<td><code>--y &lt;数值&gt;</code></td>
<td>窗口初始 Y 坐标（屏幕顶部偏移量）</td>
<td><code>--y 200</code></td>
</tr>
<tr>
<td><code>--maximize</code></td>
<td>启动时最大化窗口</td>
<td><code>--maximize</code></td>
</tr>
<tr>
<td><code>--full-screen</code></td>
<td>启动时全屏显示</td>
<td><code>--full-screen</code></td>
</tr>
<tr>
<td><code>--background-color &lt;颜色码&gt;</code></td>
<td>窗口加载前的背景色（十六进制&#x2F;RGB）</td>
<td><code>--background-color &quot;#333&quot;</code></td>
</tr>
<tr>
<td><code>--disable-context-menu</code></td>
<td>禁用右键菜单</td>
<td><code>--disable-context-menu</code></td>
</tr>
<tr>
<td><code>--show-menu-bar</code></td>
<td>显示顶部菜单栏（默认隐藏）</td>
<td><code>--show-menu-bar</code></td>
</tr>
</tbody></table>
<h3 id="3-Nativefier-功能增强参数"><a href="#3-Nativefier-功能增强参数" class="headerlink" title="3. Nativefier 功能增强参数"></a>3. Nativefier 功能增强参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>注释</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>--tray</code></td>
<td>关闭窗口时缩至系统托盘</td>
<td><code>--tray</code></td>
</tr>
<tr>
<td><code>--always-on-top</code></td>
<td>窗口始终置顶</td>
<td><code>--always-on-top</code></td>
</tr>
<tr>
<td><code>--clear-cache</code></td>
<td>禁止保留缓存数据</td>
<td><code>--clear-cache</code></td>
</tr>
<tr>
<td><code>--disable-dev-tools</code></td>
<td>禁用开发者工具（F12&#x2F;Ctrl+Shift+I）</td>
<td><code>--disable-dev-tools</code></td>
</tr>
<tr>
<td><code>--single-instance</code></td>
<td>禁止启动多个实例（已运行则聚焦现有窗口）</td>
<td><code>--single-instance</code></td>
</tr>
<tr>
<td><code>--user-agent &lt;UA&gt;</code></td>
<td>自定义 User-Agent（模拟浏览器）</td>
<td><code>--user-agent &quot;Mozilla/5.0...&quot;</code></td>
</tr>
<tr>
<td><code>--inject &lt;JS/CSS文件&gt;</code></td>
<td>注入自定义脚本或样式（如去广告）</td>
<td><code>--inject &quot;custom.js&quot;</code></td>
</tr>
<tr>
<td><code>--proxy-rules &lt;规则&gt;</code></td>
<td>设置代理服务器</td>
<td><code>--proxy-rules &quot;http=127.0.0.1:8080&quot;</code></td>
</tr>
</tbody></table>
<h3 id="4-Nativefier-高级参数"><a href="#4-Nativefier-高级参数" class="headerlink" title="4. Nativefier 高级参数"></a>4. Nativefier 高级参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>注释</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>--electron-version &lt;版本&gt;</code></td>
<td>指定 Electron 内核版本</td>
<td><code>--electron-version 21.0.0</code></td>
</tr>
<tr>
<td><code>--widevine</code></td>
<td>启用 DRM 视频播放支持（需自行承担风险）</td>
<td><code>--widevine</code></td>
</tr>
<tr>
<td><code>--global-shortcuts &lt;JSON文件&gt;</code></td>
<td>定义全局快捷键（需 JSON 配置文件）</td>
<td><code>--global-shortcuts shortcuts.json</code></td>
</tr>
<tr>
<td><code>--build-version &quot;&lt;版本号&gt;&quot;</code></td>
<td>设置构建版本号（映射到文件元数据）</td>
<td><code>--build-version &quot;20240403&quot;</code></td>
</tr>
<tr>
<td><code>--win32metadata &#39;&#123;&quot;ProductName&quot;:&quot;&lt;名称&gt;&quot;&#125;&#39;</code></td>
<td>自定义 Windows 可执行文件元数据</td>
<td><code>--win32metadata &#39;&#123;&quot;ProductName&quot;:&quot;知乎&quot;&#125;&#39;</code></td>
</tr>
<tr>
<td><code>--honest</code></td>
<td>禁用 User-Agent 伪装（显示真实 Electron UA）</td>
<td><code>--honest</code></td>
</tr>
<tr>
<td><code>--ignore-certificate</code></td>
<td>忽略证书错误（适用于自签名证书）</td>
<td><code>--ignore-certificate</code></td>
</tr>
<tr>
<td><code>--disable-gpu</code></td>
<td>禁用硬件加速（解决渲染问题）</td>
<td><code>--disable-gpu</code></td>
</tr>
<tr>
<td><code>--ignore-gpu-blacklist</code></td>
<td>强制启用 WebGL（绕过 GPU 黑名单）</td>
<td><code>--ignore-gpu-blacklist</code></td>
</tr>
</tbody></table>
<h2 id="四、Nativefier-跨平台注意事项"><a href="#四、Nativefier-跨平台注意事项" class="headerlink" title="四、Nativefier 跨平台注意事项"></a>四、Nativefier 跨平台注意事项</h2><h3 id="图标格式"><a href="#图标格式" class="headerlink" title="图标格式"></a>图标格式</h3><ul>
<li><strong>Windows</strong>：<code>.ico</code>（建议 256x256 像素）</li>
<li><strong>Linux</strong>：<code>.png</code>（建议 512x512 像素）</li>
<li><strong>macOS</strong>：支持 <code>.icns</code> 或 <code>.png</code>（自动转换）</li>
</ul>
<h3 id="输出文件类型"><a href="#输出文件类型" class="headerlink" title="输出文件类型"></a>输出文件类型</h3><ul>
<li><p><strong>Windows</strong>：生成 <code>.exe</code> 文件及资源文件夹</p>
</li>
<li><p><strong>macOS</strong>：生成 <code>.app</code> 应用包（需右键“打开”绕过安全限制）</p>
</li>
<li><p><strong>Linux</strong>：生成 <code>.AppImage</code> 文件（需赋予执行权限）</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x MyApp.AppImage</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Docker-支持（跨平台构建）"><a href="#Docker-支持（跨平台构建）" class="headerlink" title="Docker 支持（跨平台构建）"></a>Docker 支持（跨平台构建）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run -v ~/apps:/target jiahaog/nativefier --platform linux <span class="string">&quot;[https://zhihu.com](https://zhihu.com)&quot;</span> /target/</span><br><span class="line"><span class="comment"># 通过 Docker 跨平台打包（需挂载本地目录）</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="五、其他"><a href="#五、其他" class="headerlink" title="五、其他"></a>五、其他</h2><h3 id="修改图标"><a href="#修改图标" class="headerlink" title="修改图标"></a>修改图标</h3><p>进入生成目录的 <code>resources/app</code> 文件夹，直接替换 <code>icon.ico</code> 或 <code>icon.png</code> 文件。</p>
<h3 id="持久化配置"><a href="#持久化配置" class="headerlink" title="持久化配置"></a>持久化配置</h3><p>编辑生成目录下的 <code>resources/app/nativefier.json</code> 文件，可以修改窗口尺寸、User-Agent 等参数。</p>
<h3 id="打包为安装程序"><a href="#打包为安装程序" class="headerlink" title="打包为安装程序"></a>打包为安装程序</h3><ul>
<li><strong>Windows</strong>：可以使用 <a target="_blank" rel="noopener" href="https://github.com/kikock/HHSoftwarePack">HHSoftwarePack</a> 工具生成安装包,操作简单,开源,内核使用,基于NSIS方式的安装包制作。</li>
<li><strong>Linux</strong>：可以使用<code>dpkg</code>工具进行封装。</li>
</ul>
<h3 id="LIUNX-打包脚本"><a href="#LIUNX-打包脚本" class="headerlink" title="LIUNX 打包脚本"></a><code>LIUNX 打包脚本</code></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">定义变量</span></span><br><span class="line">ELECTRON_VERSION=&quot;26.1.0&quot; # 设置 Electron 版本</span><br><span class="line">APP_NAME=&quot;HJJ&quot; # 设置应用程序名称</span><br><span class="line">OLD_APP_NAME=&quot;&quot; # 用于存储之前的应用程序名称</span><br><span class="line">PLATFORM=&quot;linux&quot; # 设置平台</span><br><span class="line">APP_VERSION=&quot;1.0&quot; # 设置应用程序版本</span><br><span class="line">APP_COPYRIGHT=&quot;kikock&quot; # 设置应用程序版权信息</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输出目录设置为当前目录</span></span><br><span class="line">OUTPUT_DIR=&quot;./&quot;</span><br><span class="line">PACKAGE_DIR=&quot;./package&quot; # 设置打包文件夹</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">URL 默认为 https://google.com</span></span><br><span class="line">TARGET_URL=&quot;https://google.com&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">架构 默认为 x64, 支持 x64, ia32, arm64</span></span><br><span class="line">KERNEL_ARCH=&quot;x64&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改 APP_FOLDER_NAME 以匹配实际的文件夹名称</span></span><br><span class="line">APP_FOLDER_NAME=&quot;$APP_NAME-$PLATFORM-$KERNEL_ARCH&quot;</span><br><span class="line">INSTALL_DIR=&quot;/opt/$APP_NAME&quot; # 设置应用程序安装目录</span><br><span class="line">DEB_PACKAGE_NAME=&quot;$APP_NAME-$APP_VERSION-linux-$KERNEL_ARCH.deb&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置图标路径，默认为当前目录下的 app.png, 可以通过脚本参数传入</span></span><br><span class="line">ICON=&quot;./app.png&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">确保输出目录存在</span></span><br><span class="line">mkdir -p &quot;$OUTPUT_DIR&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建打包文件夹</span></span><br><span class="line">mkdir -p &quot;$PACKAGE_DIR&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">函数：显示主菜单</span></span><br><span class="line">show_menu() &#123;</span><br><span class="line">  echo &quot;################################################################################&quot;</span><br><span class="line">  echo &quot;# Nativefier 打包脚本&quot;</span><br><span class="line">  echo &quot;# 1. 开始使用 Nativefier 打包应用程序&quot;</span><br><span class="line">  echo &quot;# 2. 设置应用程序名称 ($APP_NAME)&quot;</span><br><span class="line">  echo &quot;# 3. 设置应用程序版本 ($APP_VERSION)&quot;</span><br><span class="line">  echo &quot;# 4. 设置目标 URL ($TARGET_URL)&quot;</span><br><span class="line">  echo &quot;# 5. 设置应用程序图标 ($ICON)&quot;</span><br><span class="line">  echo &quot;# 6. 设置内核架构 ($KERNEL_ARCH)&quot;</span><br><span class="line">  echo &quot;# 7. 生成 .deb 软件包&quot;</span><br><span class="line">  echo &quot;# 8. 清理临时文件&quot;</span><br><span class="line">  echo &quot;# 9. 一键打包&quot;</span><br><span class="line">  echo &quot;# 0. 退出脚本&quot;</span><br><span class="line">  echo &quot;################################################################################&quot;</span><br><span class="line">  read -p &quot;请选择要执行的操作: &quot; choice</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">函数：打包应用程序</span></span><br><span class="line">package_app() &#123;</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">使用用户设置的 APP_NAME</span></span><br><span class="line">  APP_FOLDER_NAME=&quot;$APP_NAME-$PLATFORM-$KERNEL_ARCH&quot;</span><br><span class="line">  INSTALL_DIR=&quot;/opt/$APP_NAME&quot;</span><br><span class="line">  DEB_PACKAGE_NAME=&quot;$APP_NAME-$APP_VERSION-linux-$KERNEL_ARCH.deb&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">删除旧的应用程序目录和图标目录（如果存在）</span></span><br><span class="line">  if [ -n &quot;$OLD_APP_NAME&quot; ] &amp;&amp; [ &quot;$OLD_APP_NAME&quot; != &quot;$APP_NAME&quot; ]; then</span><br><span class="line">    OLD_INSTALL_DIR=&quot;/opt/$OLD_APP_NAME&quot;</span><br><span class="line">    OLD_ICON_DIR=&quot;/usr/share/icons/$OLD_APP_NAME&quot;</span><br><span class="line">    echo &quot;删除旧的应用程序目录：$OLD_INSTALL_DIR&quot;</span><br><span class="line">    sudo rm -rf &quot;$OLD_INSTALL_DIR&quot;</span><br><span class="line">    echo &quot;删除旧的图标目录：$OLD_ICON_DIR&quot;</span><br><span class="line">    sudo rm -rf &quot;$OLD_ICON_DIR&quot;</span><br><span class="line">  fi</span><br><span class="line"></span><br><span class="line">  NATIVEFIER_COMMAND=&quot;nativefier --name \&quot;$APP_NAME\&quot; \</span><br><span class="line">                      --platform \&quot;$PLATFORM\&quot; \</span><br><span class="line">                      --arch \&quot;$KERNEL_ARCH\&quot; \</span><br><span class="line">                      --app-version \&quot;$APP_VERSION\&quot; \</span><br><span class="line">                      --app-copyright \&quot;$APP_COPYRIGHT\&quot; \</span><br><span class="line">                      --maximize \</span><br><span class="line">                      --clear-cache \</span><br><span class="line">                      --electron-version \&quot;$ELECTRON_VERSION\&quot; \</span><br><span class="line">                      --icon \&quot;$ICON\&quot; \</span><br><span class="line">                      --file-download-options &#x27;&#123;\&quot;saveAs\&quot;: true&#125;&#x27; \</span><br><span class="line">                      \&quot;$TARGET_URL\&quot;&quot;</span><br><span class="line">  eval $NATIVEFIER_COMMAND</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">检查 Nativefier 是否打包成功</span></span><br><span class="line">  if [ $? -ne 0 ]; then</span><br><span class="line">    echo &quot;Nativefier 打包失败，请检查错误信息。&quot;</span><br><span class="line">    exit 1</span><br><span class="line">  fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">获取应用程序文件夹的完整路径</span></span><br><span class="line">  APP_FULL_PATH=&quot;$OUTPUT_DIR/$APP_FOLDER_NAME&quot;</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">修改 EXECUTABLE_FILE 以匹配实际的执行文件路径</span></span><br><span class="line">  EXECUTABLE_FILE=&quot;$APP_FULL_PATH/$APP_NAME&quot; # 假设可执行文件与应用程序名称相同</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">将生成应用放入 package/opt 目录</span></span><br><span class="line">  mkdir -p &quot;$PACKAGE_DIR/opt/$APP_NAME&quot;</span><br><span class="line">  cp -r &quot;$APP_FULL_PATH&quot;/* &quot;$PACKAGE_DIR/opt/$APP_NAME/&quot;</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">复制图标到应用程序目录, 并转换为 png 和 icns 格式</span></span><br><span class="line">  if [ -f &quot;$ICON&quot; ]; then</span><br><span class="line">    ICON_BASE_NAME=$(basename &quot;$ICON&quot; .$(echo &quot;$ICON&quot; | sed -e &#x27;s/.*\.//&#x27;)) # 获取不带后缀的文件名</span><br><span class="line">    ICON_EXTENSION=$(echo &quot;$ICON&quot; | sed -e &#x27;s/.*\.//&#x27;) # 获取文件后缀</span><br><span class="line"></span><br><span class="line">    # 创建必要的目录</span><br><span class="line">    mkdir -p &quot;$PACKAGE_DIR/usr/share/icons/$APP_NAME&quot;</span><br><span class="line"></span><br><span class="line">    # 复制原始 PNG 图标到目标目录</span><br><span class="line">    cp &quot;$ICON&quot; &quot;$PACKAGE_DIR/usr/share/icons/$APP_NAME/$&#123;ICON_BASE_NAME&#125;.png&quot;</span><br><span class="line">    chmod 0644 &quot;$PACKAGE_DIR/usr/share/icons/$APP_NAME/$&#123;ICON_BASE_NAME&#125;.png&quot;</span><br><span class="line"></span><br><span class="line">    # 转换为 ICNS (如果支持 convert)</span><br><span class="line">    if command -v convert &gt;/dev/null 2&gt;&amp;1; then</span><br><span class="line">      convert &quot;$ICON&quot; -define icon:format=icns &quot;$PACKAGE_DIR/opt/$APP_NAME/$&#123;ICON_BASE_NAME&#125;.icns&quot;</span><br><span class="line">      chmod 0644 &quot;$PACKAGE_DIR/opt/$APP_NAME/$&#123;ICON_BASE_NAME&#125;.icns&quot;</span><br><span class="line">    fi</span><br><span class="line">    # 转换为 ICO</span><br><span class="line">    convert &quot;$ICON&quot; &quot;$PACKAGE_DIR/opt/$APP_NAME/$&#123;ICON_BASE_NAME&#125;.ico&quot;</span><br><span class="line">    chmod 0644 &quot;$PACKAGE_DIR/opt/$APP_NAME/$&#123;ICON_BASE_NAME&#125;.ico&quot;</span><br><span class="line">  fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">设置应用程序文件夹及其子内容的权限为 755，所有用户可读可执行，所有者可写</span></span><br><span class="line">  sudo chown -R :users &quot;$PACKAGE_DIR/opt/$APP_NAME&quot; # 将用户组设置为 users</span><br><span class="line">  sudo chmod -R 755 &quot;$PACKAGE_DIR/opt/$APP_NAME&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">检查应用程序执行文件是否存在</span></span><br><span class="line">  if [ ! -f &quot;$EXECUTABLE_FILE&quot; ]; then</span><br><span class="line">    echo &quot;错误：应用程序执行文件 &#x27;$EXECUTABLE_FILE&#x27; 不存在。请检查路径是否正确。&quot;</span><br><span class="line">    exit 1</span><br><span class="line">  fi</span><br><span class="line">  echo &quot;应用程序打包完成。&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">函数：生成 .deb 软件包</span></span><br><span class="line">generate_deb() &#123;</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">使用用户设置的 APP_NAME</span></span><br><span class="line">  APP_FOLDER_NAME=&quot;$APP_NAME-$PLATFORM-$KERNEL_ARCH&quot;</span><br><span class="line">  INSTALL_DIR=&quot;/opt/$APP_NAME&quot;</span><br><span class="line">  DEB_PACKAGE_NAME=&quot;$APP_NAME-$APP_VERSION-linux-$KERNEL_ARCH.deb&quot;</span><br><span class="line">  </span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">创建 debian 目录结构</span></span><br><span class="line">  mkdir -p &quot;$PACKAGE_DIR/DEBIAN&quot;</span><br><span class="line">  mkdir -p &quot;$PACKAGE_DIR/usr/share/applications&quot;</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">创建图标目录</span></span><br><span class="line">  mkdir -p &quot;$PACKAGE_DIR/usr/share/icons/$APP_NAME&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">debian 核心架构</span></span><br><span class="line">  ARCHITECTURE=&quot;amd64&quot; # 默认设置为 amd64</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">创建 debian 控制文件 (control)</span></span><br><span class="line">  cat &lt;&lt;EOF &gt; &quot;$PACKAGE_DIR/DEBIAN/control&quot;</span><br><span class="line">Package: $APP_NAME</span><br><span class="line">Version: $APP_VERSION</span><br><span class="line">Architecture: $ARCHITECTURE</span><br><span class="line">Maintainer: $(whoami) &lt;$(whoami)@$(hostname)&gt;</span><br><span class="line">Description: $APP_NAME desktop client</span><br><span class="line">  A desktop client generated by Nativefier.</span><br><span class="line">Depends: libgtk-3-0, libgbm1, libnss3, libasound2, libxtst6, libxss1, libcups2</span><br><span class="line">Section: web</span><br><span class="line">Priority: optional</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">创建 preinst 脚本 (可选，用于安装前操作)</span></span><br><span class="line">  cat &lt;&lt;EOF &gt; &quot;$PACKAGE_DIR/DEBIAN/preinst&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;正在安装 $APP_NAME...&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在此处添加安装前要执行的命令，例如检查依赖、创建用户等</span></span><br><span class="line">exit 0</span><br><span class="line">EOF</span><br><span class="line">  chmod +x &quot;$PACKAGE_DIR/DEBIAN/preinst&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">创建 postinst 脚本 (可选，用于安装后操作)</span></span><br><span class="line">  cat &lt;&lt;EOF &gt; &quot;$PACKAGE_DIR/DEBIAN/postinst&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;安装完成&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">复制图标到系统图标目录</span></span><br><span class="line">if [ -d &quot;$PACKAGE_DIR/usr/share/icons&quot; ]; then</span><br><span class="line">    cp -r &quot;$PACKAGE_DIR/usr/share/icons/&quot; &quot;/usr/share/icons&quot;</span><br><span class="line">    chmod -R 0755 &quot;/usr/share/icons&quot; # 确保复制的图标目录和文件有正确的权限</span><br><span class="line">  fi</span><br><span class="line">if [ ! -s /usr/share/applications/$APP_NAME.desktop ]; then</span><br><span class="line">  cat &gt;/usr/share/applications/$APP_NAME.desktop&lt;&lt;-END</span><br><span class="line">[Desktop Entry]</span><br><span class="line">Name=$APP_NAME</span><br><span class="line">Comment=一款为 $APP_NAME 定制的 Linux 桌面应用</span><br><span class="line">Exec=$INSTALL_DIR/$APP_NAME</span><br><span class="line">Icon=/usr/share/icons/$APP_NAME/$&#123;ICON_BASE_NAME&#125;.png</span><br><span class="line">Terminal=false</span><br><span class="line">Type=Application</span><br><span class="line">Categories=Network;Application;</span><br><span class="line">END</span><br><span class="line">  chmod 0644 &quot;/usr/share/applications/$APP_NAME.desktop&quot;</span><br><span class="line">fi</span><br><span class="line">  update-desktop-database</span><br><span class="line">  exit 0</span><br><span class="line">EOF</span><br><span class="line">  chmod +x &quot;$PACKAGE_DIR/DEBIAN/postinst&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">创建 prerm 脚本 (可选，用于卸载前操作)</span></span><br><span class="line">  cat &lt;&lt;EOF &gt; &quot;$PACKAGE_DIR/DEBIAN/prerm&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;正在卸载 $APP_NAME...&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在此处添加卸载前要执行的命令，例如停止服务、删除配置文件等</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">卸载应用程序</span></span><br><span class="line">apt-get --purge remove &quot;$APP_NAME&quot; -y</span><br><span class="line">exit 0</span><br><span class="line">EOF</span><br><span class="line">  chmod +x &quot;$PACKAGE_DIR/DEBIAN/prerm&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">创建 postrm 脚本 (可选，用于卸载后操作)</span></span><br><span class="line">  cat &lt;&lt;EOF &gt; &quot;$PACKAGE_DIR/DEBIAN/postrm&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;卸载 $APP_NAME 完成！&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除桌面快捷方式</span></span><br><span class="line">if [ -f &quot;/usr/share/applications/$APP_NAME.desktop&quot; ]; then</span><br><span class="line">  rm -f &quot;/usr/share/applications/$APP_NAME.desktop&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">exit 0</span><br><span class="line">EOF</span><br><span class="line">  chmod +x &quot;$PACKAGE_DIR/DEBIAN/postrm&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">打包成 deb 文件</span></span><br><span class="line">  dpkg-deb -b &quot;$PACKAGE_DIR&quot; &quot;$OUTPUT_DIR/$DEB_PACKAGE_NAME&quot;</span><br><span class="line">  echo &quot;.deb 文件打包完成。&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">函数：清理临时文件</span></span><br><span class="line">cleanup() &#123;</span><br><span class="line">  rm -rf &quot;$PACKAGE_DIR&quot; # 删除打包的文件夹</span><br><span class="line">  rm -rf &quot;$APP_FULL_PATH&quot; # 删除生成的应用程序文件夹</span><br><span class="line">  echo &quot;临时文件清理完成。&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">函数：一键打包</span></span><br><span class="line">one_click_package() &#123;</span><br><span class="line">  package_app</span><br><span class="line">  generate_deb</span><br><span class="line">  cleanup</span><br><span class="line">  echo &quot;一键打包完成。&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">主程序逻辑</span></span><br><span class="line">while true; do</span><br><span class="line">  show_menu</span><br><span class="line">  case &quot;$choice&quot; in</span><br><span class="line">    1) package_app ;;</span><br><span class="line">    2)</span><br><span class="line">      read -p &quot;请输入应用程序名称: &quot; APP_NAME</span><br><span class="line">      echo &quot;# 2. 设置应用程序名称 ($APP_NAME)&quot;</span><br><span class="line">      echo &quot;  原始应用程序名称：$OLD_APP_NAME&quot; # 记录原始名称</span><br><span class="line">      OLD_APP_NAME=&quot;$APP_NAME&quot; # 更新为新的名称</span><br><span class="line">      # 更新应用名称相关的变量</span><br><span class="line">      APP_FOLDER_NAME=&quot;$APP_NAME-$PLATFORM-$KERNEL_ARCH&quot;</span><br><span class="line">      INSTALL_DIR=&quot;/opt/$APP_NAME&quot;</span><br><span class="line">      DEB_PACKAGE_NAME=&quot;$APP_NAME-$APP_VERSION-linux-$KERNEL_ARCH.deb&quot;</span><br><span class="line">      ;;</span><br><span class="line">    3) read -p &quot;请输入应用程序版本: &quot; APP_VERSION ;;</span><br><span class="line">    4) read -p &quot;请输入目标 URL: &quot; TARGET_URL ;;</span><br><span class="line">    5) read -p &quot;请输入应用程序图标路径: &quot; ICON ;;</span><br><span class="line">    6)</span><br><span class="line">      echo &quot;请选择内核架构：&quot;</span><br><span class="line">      echo &quot;1. x64&quot;</span><br><span class="line">      echo &quot;2. ia32&quot;</span><br><span class="line">      echo &quot;3. arm64&quot;</span><br><span class="line">      read -p &quot;请选择 (1/2/3): &quot; arch_choice</span><br><span class="line">      case &quot;$arch_choice&quot; in</span><br><span class="line">        1) KERNEL_ARCH=&quot;x64&quot; ;;</span><br><span class="line">        2) KERNEL_ARCH=&quot;ia32&quot; ;;</span><br><span class="line">        3) KERNEL_ARCH=&quot;arm64&quot; ;;</span><br><span class="line">        *) echo &quot;无效的选择，使用默认架构 x64。&quot; ;;</span><br><span class="line">      esac</span><br><span class="line">      ;;</span><br><span class="line">    7)</span><br><span class="line">      package_app</span><br><span class="line">      generate_deb</span><br><span class="line">      ;;</span><br><span class="line">    8) cleanup ;;</span><br><span class="line">    9) one_click_package ;;</span><br><span class="line">    0) echo &quot;退出脚本。&quot;; exit 0 ;;</span><br><span class="line">    *) echo &quot;无效的选择，请重试。&quot; ;;</span><br><span class="line">  esac</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/img/avatar.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/img/avatar.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">kikock</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://home.34462958.xyz/2025/04/22/liunx/Nativefier%20%E6%89%93%E5%8C%85%E7%BD%91%E9%A1%B5/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://home.34462958.xyz/2025/04/22/liunx/Nativefier%20%E6%89%93%E5%8C%85%E7%BD%91%E9%A1%B5/')">Nativefier 打包网页</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 許可協議。轉載請註明來自 <a href="https://home.34462958.xyz" target="_blank">不抽烟的🐇</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E5%85%B6%E4%BB%96/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>其他<span class="categoryesPageCount">12</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/java/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>java<span class="tagsPageCount">11</span></a></div></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/03/21/GFW/v2rayN%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://img.xjh.me/random_img.php?type=bg&amp;return=302&amp;_r_=ae32fd25-f8bb-dfb7-a3ef-ba80bc951c0f" onerror="onerror=null;src='/img/404.webp'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">v2rayN从入门到精通</div></div></a></div><div class="next-post pull-right"><a href="/2025/04/25/%E9%93%B6%E6%B2%B3%E9%BA%92%E9%BA%9F%E6%A1%8C%E9%9D%A2%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F--%E4%BD%BF%E7%94%A8root%E7%99%BB%E5%BD%95%E6%A1%8C%E9%9D%A2%E7%AB%AF/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.hanximeng.com/ranimg/api.php?_r_=8cafb5b4-a101-f317-096a-708e3e0f0c72" onerror="onerror=null;src='/img/404.webp'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">银河麒麟桌面操作系统--使用root登录桌面端</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/2025/04/29/%E4%BB%A3%E7%90%86%E4%B8%8E%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" title="漫话：代理与内网穿透"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/images/proxy-and-tunnel/cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-04-29</div><div class="title">漫话：代理与内网穿透</div></div></a></div><div><a href="/2024/07/10/java/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3/" title="Lambda表达式和函数式接口"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.hanximeng.com/ranimg/api.php?_r_=1ad5e0ac-4172-afa9-f0df-5cea60ba7c83" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-07-10</div><div class="title">Lambda表达式和函数式接口</div></div></a></div><div><a href="/2025/01/08/java/Optional%E8%AE%A4%E8%AF%86%E5%B9%B6%E4%BD%BF%E7%94%A8/" title="认识Optional并使用"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.btstu.cn/sjbz/?lx=dongman&_r_=e551b610-983d-4949-fc04-7a5514ad37d6" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-08</div><div class="title">认识Optional并使用</div></div></a></div><div><a href="/2025/02/11/java/SpringAOP%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8/" title="SpringAOP简单应用"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.btstu.cn/sjbz/?lx=dongman&_r_=d187df0f-a28d-4bb3-a623-c0c950b47480" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-11</div><div class="title">SpringAOP简单应用</div></div></a></div><div><a href="/2025/02/11/java/SpringBoot%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB/" title="SpringBoot常用工具类"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.btstu.cn/sjbz/?lx=dongman&_r_=80245b2a-3a21-0154-ddbd-3f12093e8aec" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-11</div><div class="title">SpringBoot常用工具类</div></div></a></div><div><a href="/2024/07/10/java/SpringBoot%E6%95%B4%E5%90%88Minio%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1/" title="SpringBoot整合Minio文件存储服务"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.hanximeng.com/ranimg/api.php?_r_=1a571e7a-d1e0-01e2-c32e-aa56f1313ba9" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-07-10</div><div class="title">SpringBoot整合Minio文件存储服务</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/img/statusImg.png" alt="status"/></div></div><div class="author-info__description">疑難問題，玄學解釋大師。</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">kikock</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/kikock" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Nativefier-%E6%89%93%E5%8C%85%E7%BD%91%E9%A1%B5"><span class="toc-number">1.</span> <span class="toc-text">Nativefier 打包网页</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">一、环境配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-NVM-for-Windows-%E7%AE%A1%E7%90%86-nodejs"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 安装 NVM for Windows 管理 nodejs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85nodejs"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 安装nodejs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85-Nativefier"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. 全局安装 Nativefier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%B7%A8%E5%B9%B3%E5%8F%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. 跨平台依赖</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%9F%BA%E7%A1%80%E6%89%93%E5%8C%85%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">二、基础打包命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%B0%86%E7%99%BE%E5%BA%A6%E9%A6%96%E9%A1%B5%E6%89%93%E5%8C%85%E4%B8%BA%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">示例：将百度首页打包为桌面应用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%8C%E6%95%B4%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%E5%8F%8A%E6%B3%A8%E9%87%8A"><span class="toc-number">2.1.</span> <span class="toc-text">三、完整参数列表及注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Nativefier-%E5%9F%BA%E7%A1%80%E5%8F%82%E6%95%B0"><span class="toc-number">2.1.1.</span> <span class="toc-text">1. Nativefier 基础参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Nativefier-%E7%AA%97%E5%8F%A3%E4%B8%8E%E7%95%8C%E9%9D%A2%E6%8E%A7%E5%88%B6%E5%8F%82%E6%95%B0"><span class="toc-number">2.1.2.</span> <span class="toc-text">2. Nativefier 窗口与界面控制参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Nativefier-%E5%8A%9F%E8%83%BD%E5%A2%9E%E5%BC%BA%E5%8F%82%E6%95%B0"><span class="toc-number">2.1.3.</span> <span class="toc-text">3. Nativefier 功能增强参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Nativefier-%E9%AB%98%E7%BA%A7%E5%8F%82%E6%95%B0"><span class="toc-number">2.1.4.</span> <span class="toc-text">4. Nativefier 高级参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Nativefier-%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">2.2.</span> <span class="toc-text">四、Nativefier 跨平台注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E6%A0%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.2.1.</span> <span class="toc-text">图标格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.2.</span> <span class="toc-text">输出文件类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker-%E6%94%AF%E6%8C%81%EF%BC%88%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%9E%84%E5%BB%BA%EF%BC%89"><span class="toc-number">2.2.3.</span> <span class="toc-text">Docker 支持（跨平台构建）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%85%B6%E4%BB%96"><span class="toc-number">2.3.</span> <span class="toc-text">五、其他</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%9B%BE%E6%A0%87"><span class="toc-number">2.3.1.</span> <span class="toc-text">修改图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-number">2.3.2.</span> <span class="toc-text">持久化配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E4%B8%BA%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.3.3.</span> <span class="toc-text">打包为安装程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LIUNX-%E6%89%93%E5%8C%85%E8%84%9A%E6%9C%AC"><span class="toc-number">2.3.4.</span> <span class="toc-text">LIUNX 打包脚本</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/21/antigravity_kit_guide/" title="Antigravity Kit 安装与使用完全指南"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/assets/img/antigravity_kit_cover.png" onerror="this.onerror=null;this.src='/img/404.webp'" alt="Antigravity Kit 安装与使用完全指南"/></a><div class="content"><a class="title" href="/2026/01/21/antigravity_kit_guide/" title="Antigravity Kit 安装与使用完全指南">Antigravity Kit 安装与使用完全指南</a><time datetime="2026-01-21T09:00:00.000Z" title="發表於 2026-01-21 09:00:00">2026-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/2026-01-20-antigravity-global-skills-analysis/" title="深度解析 Antigravity 全局技能体系 - 赋能全栈开发与内容创作"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/assets/img/antigravity-skills-cover.png" onerror="this.onerror=null;this.src='/img/404.webp'" alt="深度解析 Antigravity 全局技能体系 - 赋能全栈开发与内容创作"/></a><div class="content"><a class="title" href="/2026/01/20/2026-01-20-antigravity-global-skills-analysis/" title="深度解析 Antigravity 全局技能体系 - 赋能全栈开发与内容创作">深度解析 Antigravity 全局技能体系 - 赋能全栈开发与内容创作</a><time datetime="2026-01-20T15:30:00.000Z" title="發表於 2026-01-20 15:30:00">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/27/%5B%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B%5D%20Firefly%20ROC-RK3588S-PC%E5%A4%A7%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/" title="Firefly ROC-RK3588S-PC大模型部署"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/assets/img/firefly-rk3588s-llm-cover.png" onerror="this.onerror=null;this.src='/img/404.webp'" alt="Firefly ROC-RK3588S-PC大模型部署"/></a><div class="content"><a class="title" href="/2025/12/27/%5B%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B%5D%20Firefly%20ROC-RK3588S-PC%E5%A4%A7%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/" title="Firefly ROC-RK3588S-PC大模型部署">Firefly ROC-RK3588S-PC大模型部署</a><time datetime="2025-12-27T10:43:00.000Z" title="發表於 2025-12-27 10:43:00">2025-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/03/RK3588RKLLama%E9%83%A8%E7%BD%B2/" title="RK3588RKLLama部署"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.hanximeng.com/ranimg/api.php?_r_=a3e91540-72e1-9388-7a00-306bddbdf54a" onerror="this.onerror=null;this.src='/img/404.webp'" alt="RK3588RKLLama部署"/></a><div class="content"><a class="title" href="/2025/12/03/RK3588RKLLama%E9%83%A8%E7%BD%B2/" title="RK3588RKLLama部署">RK3588RKLLama部署</a><time datetime="2025-12-03T10:43:00.000Z" title="發表於 2025-12-03 10:43:00">2025-12-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/02/java/java17%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/" title="java17语法学习"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.hanximeng.com/ranimg/api.php?_r_=095be54a-6a4c-218d-b75d-37f52ec323f9" onerror="this.onerror=null;this.src='/img/404.webp'" alt="java17语法学习"/></a><div class="content"><a class="title" href="/2025/10/02/java/java17%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/" title="java17语法学习">java17语法学习</a><time datetime="2025-10-02T14:43:00.000Z" title="發表於 2025-10-02 14:43:00">2025-10-02</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v7.2.0" title="博客框架为Hexo_v7.2.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v7.2.0"/></a><a class="github-badge" target="_blank" href="https://docs.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2024 - 2026 By <a class="footer-bar-link" href="/" title="kikock" target="_blank">kikock</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">40</div></a><a href="/tags/" title="tag"><div class="headline">標籤</div><div class="length-num">21</div></a><a href="/categories/" title="category"><div class="headline">分類</div><div class="length-num">15</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="顯示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>顯示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI-Agent/" style="font-size: 0.88rem;">AI Agent<sup>2</sup></a><a href="/tags/Antigravity/" style="font-size: 0.88rem;">Antigravity<sup>2</sup></a><a href="/tags/Cloudflare/" style="font-size: 0.88rem;">Cloudflare<sup>2</sup></a><a href="/tags/Content-Creation/" style="font-size: 0.88rem;">Content Creation<sup>1</sup></a><a href="/tags/Full-Stack/" style="font-size: 0.88rem;">Full Stack<sup>1</sup></a><a href="/tags/GFW/" style="font-size: 0.88rem;">GFW<sup>1</sup></a><a href="/tags/GitHub/" style="font-size: 0.88rem;">GitHub<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>8</sup></a><a href="/tags/MC/" style="font-size: 0.88rem;">MC<sup>1</sup></a><a href="/tags/Tutorial/" style="font-size: 0.88rem;">Tutorial<sup>1</sup></a><a href="/tags/docker/" style="font-size: 0.88rem;">docker<sup>4</sup></a><a href="/tags/git/" style="font-size: 0.88rem;">git<sup>1</sup></a><a href="/tags/java/" style="font-size: 0.88rem;">java<sup>11</sup></a><a href="/tags/mysql/" style="font-size: 0.88rem;">mysql<sup>1</sup></a><a href="/tags/nginx/" style="font-size: 0.88rem;">nginx<sup>1</sup></a><a href="/tags/openwrt/" style="font-size: 0.88rem;">openwrt<sup>1</sup></a><a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 0.88rem;">其他<sup>1</sup></a><a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" style="font-size: 0.88rem;">科学上网<sup>1</sup></a><a href="/tags/%E7%BA%B8%E9%A3%9E%E6%9C%BA/" style="font-size: 0.88rem;">纸飞机<sup>1</sup></a><a href="/tags/%E7%BE%A4%E6%99%96/" style="font-size: 0.88rem;">群晖<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">设计模式<sup>5</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="簡繁轉換">繁</button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到頂部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("05/01/2024 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "";
        img.title = "";
        img.alt = "";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="/assets/js/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>